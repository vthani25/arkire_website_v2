import{d as x,s as P,l as J}from"./chunk-PJK4I2LC.DIfsp0ZC.js";function C(e){return!1}var D="METHOD_CALLED";function F(e,t){return{event:D,payload:{method:e,...t}}}let s=[],c=0;const p=4;let S=0,E=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=t.push(r),()=>{for(let a=c+p;a<s.length;)s[a]===r?s.splice(a,p):a+=p;let i=t.indexOf(r);~i&&(t.splice(i,1),--n.lc||n.off())}},notify(r,i){S++;let a=!s.length;for(let o of t)s.push(o,n.value,r,i);if(a){for(c=0;c<s.length;c+=p)s[c](s[c+1],s[c+2],s[c+3]);s.length=0}},off(){},set(r){let i=n.value;i!==r&&(n.value=r,n.notify(i))},subscribe(r){let i=n.listen(r);return r(n.value),i},value:e};return n};const q=5,v=6,h=10;let V=(e,t,n,r)=>(e.events=e.events||{},e.events[n+h]||(e.events[n+h]=r(i=>{e.events[n].reduceRight((a,o)=>(o(a),a),{shared:{},...i})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let i=e.events[n],a=i.indexOf(t);i.splice(a,1),i.length||(delete e.events[n],e.events[n+h](),delete e.events[n+h])}),H=1e3,U=(e,t)=>V(e,r=>{let i=t(r);i&&e.events[v].push(i)},q,r=>{let i=e.listen;e.listen=(...o)=>(!e.lc&&!e.active&&(e.active=!0,r()),i(...o));let a=e.off;return e.events[v]=[],e.off=()=>{a(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let o of e.events[v])o();e.events[v]=[]}},H)},()=>{e.listen=i,e.off=a}}),L=(e,t,n)=>{Array.isArray(e)||(e=[e]);let r,i,a=()=>{if(i===S)return;i=S;let f=e.map(l=>l.get());if(!r||f.some((l,y)=>l!==r[y])){r=f;let l=t(...f);l&&l.then&&l.t?l.then(y=>{r===f&&o.set(y)}):(o.set(l),i=S)}},o=E(void 0),_=o.get;o.get=()=>(a(),_());let g,M=n?()=>{clearTimeout(g),g=setTimeout(a)}:a;return U(o,()=>{let f=e.map(l=>l.listen(M));return a(),()=>{for(let l of f)l()}}),o},u=(e,t)=>L(e,t),$=(e,t)=>L(e,t,!0),R=(e={})=>{let t=E(e);return t.setKey=function(n,r){let i=t.value;typeof r>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(i,n)):t.value[n]!==r&&(t.value={...t.value,[n]:r},t.notify(i,n))},t};var d=R({isLoaded:!1,client:void 0,user:void 0,session:void 0,organization:void 0}),b=R(),m=E(null);u([d],e=>e.isLoaded);var w=$([d,b],(e,t)=>x(e.isLoaded,{session:e.session,user:e.user,organization:e.organization,client:e.client},t));u([w],e=>e.user);u([w],e=>e.session);var B=u([w],e=>e.organization),T=u([d],e=>e.client),Q=u([m],e=>e);u([T],e=>e?.sessions);var W=u([T],e=>e?.signIn),K=u([T],e=>e?.signUp),A=(e,t)=>{U(e,()=>{m.get()?.telemetry?.record(F(t))})};A(W,"$signInStore");A(K,"$signUpStore");A(B,"$organizationStore");var z=()=>{["handleRedirectCallback"].forEach(t=>{document.querySelectorAll(`[data-clerk-function-id^="clerk-${t}"]`).forEach(r=>{const i=r.getAttribute("data-clerk-function-id"),a=window.__astro_clerk_function_props?.get(t)?.get(i)??{};m.get()?.[t]?.(a)})})},N=()=>{Object.entries({"create-organization":"mountCreateOrganization","organization-list":"mountOrganizationList","organization-profile":"mountOrganizationProfile","organization-switcher":"mountOrganizationSwitcher","user-button":"mountUserButton","user-profile":"mountUserProfile","sign-in":"mountSignIn","sign-up":"mountSignUp","google-one-tap":"openGoogleOneTap",waitlist:"mountWaitlist","pricing-table":"mountPricingTable"}).forEach(([t,n])=>{document.querySelectorAll(`[data-clerk-id^="clerk-${t}"]`).forEach(i=>{const a=i.getAttribute("data-clerk-id"),o=window.__astro_clerk_component_props?.get(t)?.get(a);i&&m.get()?.[n](i,o)})})},X=e=>{let t=!1;return n=>{if(t){const r=window.Clerk;return new Promise(i=>r?(r.loaded&&(N(),z()),i(r.loaded)):i(!1))}return t=!0,e(n)}},O;P("@clerk/astro");function k(e){return(t,n)=>{n?.__internal_metadata?.navigationType==="internal"?e(history.state,"",t):n?.windowNavigate(t)}}var Y=X(Z);async function Z(e){let t=window.Clerk;if(!t){if(await J(e),!window.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");t=window.Clerk}return m.get()||m.set(t),O={routerPush:k(window.history.pushState.bind(window.history)),routerReplace:k(window.history.replaceState.bind(window.history)),...e},t.load(O).then(()=>{d.setKey("isLoaded",!0),Q.notify(),N(),z(),t.addListener(n=>{d.setKey("client",n.client),d.setKey("user",n.user),d.setKey("session",n.session),d.setKey("organization",n.organization)})}).catch(()=>{})}var G=e=>{const{signInUrl:t,signUpUrl:n,isSatellite:r,proxyUrl:i,domain:a,publishableKey:o,telemetry:_,...g}=e||{};return{signInUrl:t||void 0,signUpUrl:n||void 0,isSatellite:r||void 0,proxyUrl:i||void 0,domain:a||void 0,publishableKey:o||"pk_test_ZW5vcm1vdXMtcmF0LTc0LmNsZXJrLmFjY291bnRzLmRldiQ",telemetry:_||{disabled:C(),debug:C()},...g}};function j(e){async function t(n){const r=document.getElementById("__CLERK_ASTRO_DATA__");r&&b.set(JSON.parse(r.textContent||"{}"));const i=document.getElementById("__CLERK_ASTRO_SAFE_VARS__");let a={};i&&(a=JSON.parse(i.textContent||"{}")),await e(G({...n,...a}))}return t}var I="data-astro-transition-persist",ee="data-emotion";function ie(e,t){e.deselectScripts(t),e.swapRootAttributes(t);const n=document.querySelectorAll(`style[${ee}]`);te(t,Array.from(n));const r=e.saveFocus();e.swapBodyElement(t.body,document.body),r()}function te(e,t){for(const n of Array.from(document.head.children)){const r=ne(n,e);r?r.remove():t.includes(n)||n.remove()}document.head.append(...e.head.children)}function ne(e,t){const n=e.getAttribute(I),r=n&&t.head.querySelector(`[${I}="${n}"]`);if(r)return r;if(e.matches("link[rel=stylesheet]")){const i=e.getAttribute("href");return t.head.querySelector(`link[rel=stylesheet][href="${i}"]`)}return null}var ae=j(Y);export{ae as r,ie as s};
